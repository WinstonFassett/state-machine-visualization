(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{335:function(t,e,a){"use strict";a.r(e),a.d(e,"diagram",function(){return u});var r=a(296),n=a(2),i=a(259),d=a(257),o=a(250);a(60),a(61),a(59),a(26);let s=0;const p=function(t){let e=t.id;return t.type&&(e+="<"+Object(o.I)(t.type)+">"),e},c=function(t,e,a,r){const{displayText:n,cssStyle:i}=e.getDisplayDetails(),d=t.append("tspan").attr("x",r.padding).text(n);""!==i&&d.attr("style",e.cssStyle),a||d.attr("dy",r.textHeight)},l=function(t,e,a,r){o.y.debug("Rendering class ",e,a);const n=e.id,i={id:n,label:e.id,width:0,height:0},d=t.append("g").attr("id",r.db.lookUpDomId(n)).attr("class","classGroup");let s;s=e.link?d.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",a.textHeight+a.padding).attr("x",0):d.append("text").attr("y",a.textHeight+a.padding).attr("x",0);let l=!0;e.annotations.forEach(function(t){const e=s.append("tspan").text("\xab"+t+"\xbb");l||e.attr("dy",a.textHeight),l=!1});let g=p(e);const h=s.append("tspan").text(g).attr("class","title");l||h.attr("dy",a.textHeight);const f=s.node().getBBox().height;let y,x,u;if(e.members.length>0){y=d.append("line").attr("x1",0).attr("y1",a.padding+f+a.dividerMargin/2).attr("y2",a.padding+f+a.dividerMargin/2);const t=d.append("text").attr("x",a.padding).attr("y",f+a.dividerMargin+a.textHeight).attr("fill","white").attr("class","classText");l=!0,e.members.forEach(function(e){c(t,e,l,a),l=!1}),x=t.node().getBBox()}if(e.methods.length>0){u=d.append("line").attr("x1",0).attr("y1",a.padding+f+a.dividerMargin+x.height).attr("y2",a.padding+f+a.dividerMargin+x.height);const t=d.append("text").attr("x",a.padding).attr("y",f+2*a.dividerMargin+x.height+a.textHeight).attr("fill","white").attr("class","classText");l=!0,e.methods.forEach(function(e){c(t,e,l,a),l=!1})}const b=d.node().getBBox();var m=" ";e.cssClasses.length>0&&(m+=e.cssClasses.join(" "));const w=d.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",b.width+2*a.padding).attr("height",b.height+a.padding+.5*a.dividerMargin).attr("class",m).node().getBBox().width;return s.node().childNodes.forEach(function(t){t.setAttribute("x",(w-t.getBBox().width)/2)}),e.tooltip&&s.insert("title").text(e.tooltip),y&&y.attr("x2",w),u&&u.attr("x2",w),i.width=w,i.height=b.height+a.padding+.5*a.dividerMargin,i},g=function(t,e,a,r,i){const d=function(t){switch(t){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.relationType.EXTENSION:return"extension";case i.db.relationType.COMPOSITION:return"composition";case i.db.relationType.DEPENDENCY:return"dependency";case i.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter(t=>!Number.isNaN(t.y));const p=e.points,c=Object(n.y)().x(function(t){return t.x}).y(function(t){return t.y}).curve(n.d),l=t.append("path").attr("d",c(p)).attr("id","edge"+s).attr("class","relation");let g,h,f="";r.arrowMarkerAbsolute&&(f=(f=(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==a.relation.lineType&&l.attr("class","relation dashed-line"),10==a.relation.lineType&&l.attr("class","relation dotted-line"),"none"!==a.relation.type1&&l.attr("marker-start","url("+f+"#"+d(a.relation.type1)+"Start)"),"none"!==a.relation.type2&&l.attr("marker-end","url("+f+"#"+d(a.relation.type2)+"End)");const y=e.points.length;let x,u,b,m,w=o.H.calcLabelPosition(e.points);if(g=w.x,h=w.y,y%2!==0&&y>1){let t=o.H.calcCardinalityPosition("none"!==a.relation.type1,e.points,e.points[0]),r=o.H.calcCardinalityPosition("none"!==a.relation.type2,e.points,e.points[y-1]);o.y.debug("cardinality_1_point "+JSON.stringify(t)),o.y.debug("cardinality_2_point "+JSON.stringify(r)),x=t.x,u=t.y,b=r.x,m=r.y}if(void 0!==a.title){const e=t.append("g").attr("class","classLabel"),n=e.append("text").attr("class","label").attr("x",g).attr("y",h).attr("fill","red").attr("text-anchor","middle").text(a.title);window.label=n;const i=n.node().getBBox();e.insert("rect",":first-child").attr("class","box").attr("x",i.x-r.padding/2).attr("y",i.y-r.padding/2).attr("width",i.width+r.padding).attr("height",i.height+r.padding)}o.y.info("Rendering relation "+JSON.stringify(a)),void 0!==a.relationTitle1&&"none"!==a.relationTitle1&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",x).attr("y",u).attr("fill","black").attr("font-size","6").text(a.relationTitle1);void 0!==a.relationTitle2&&"none"!==a.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",b).attr("y",m).attr("fill","black").attr("font-size","6").text(a.relationTitle2);s++},h=function(t,e,a,r){o.y.debug("Rendering note ",e,a);const n=e.id,i={id:n,text:e.text,width:0,height:0},d=t.append("g").attr("id",n).attr("class","classGroup");let s=d.append("text").attr("y",a.textHeight+a.padding).attr("x",0);const p=JSON.parse('"'.concat(e.text,'"')).split("\n");p.forEach(function(t){o.y.debug("Adding line: ".concat(t)),s.append("tspan").text(t).attr("class","title").attr("dy",a.textHeight)});const c=d.node().getBBox(),l=d.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",c.width+2*a.padding).attr("height",c.height+p.length*a.textHeight+a.padding+.5*a.dividerMargin).node().getBBox().width;return s.node().childNodes.forEach(function(t){t.setAttribute("x",(l-t.getBBox().width)/2)}),i.width=l,i.height=c.height+p.length*a.textHeight+a.padding+.5*a.dividerMargin,i};let f={};const y=function(t){const e=Object.entries(f).find(e=>e[1].label===t);if(e)return e[0]},x={draw:function(t,e,a,r){const s=Object(o.p)().class;f={},o.y.info("Rendering diagram "+t);const p=Object(o.p)().securityLevel;let c;"sandbox"===p&&(c=Object(n.H)("#i"+e));const x="sandbox"===p?Object(n.H)(c.nodes()[0].contentDocument.body):Object(n.H)("body"),u=x.select("[id='".concat(e,"']"));var b;(b=u).append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),b.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),b.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),b.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),b.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),b.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),b.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),b.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z");const m=new d.a({multigraph:!0});m.setGraph({isMultiGraph:!0}),m.setDefaultEdgeLabel(function(){return{}});const w=r.db.getClasses(),k=Object.keys(w);for(const n of k){const t=w[n],e=l(u,t,s,r);f[e.id]=e,m.setNode(e.id,e),o.y.info("Org height: "+e.height)}r.db.getRelations().forEach(function(t){o.y.info("tjoho"+y(t.id1)+y(t.id2)+JSON.stringify(t)),m.setEdge(y(t.id1),y(t.id2),{relation:t},t.title||"DEFAULT")}),r.db.getNotes().forEach(function(t){o.y.debug("Adding note: ".concat(JSON.stringify(t)));const e=h(u,t,s,r);f[e.id]=e,m.setNode(e.id,e),t.class&&t.class in w&&m.setEdge(t.id,y(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),Object(i.a)(m),m.nodes().forEach(function(t){void 0!==t&&void 0!==m.node(t)&&(o.y.debug("Node "+t+": "+JSON.stringify(m.node(t))),x.select("#"+(r.db.lookUpDomId(t)||t)).attr("transform","translate("+(m.node(t).x-m.node(t).width/2)+","+(m.node(t).y-m.node(t).height/2)+" )"))}),m.edges().forEach(function(t){void 0!==t&&void 0!==m.edge(t)&&(o.y.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(m.edge(t))),g(u,m.edge(t),m.edge(t).relation,s,r))});const L=u.node().getBBox(),v=L.width+40,E=L.height+40;Object(o.v)(u,E,v,s.useMaxWidth);const O="".concat(L.x-20," ").concat(L.y-20," ").concat(v," ").concat(E);o.y.debug("viewBox ".concat(O)),u.attr("viewBox",O)}},u={parser:r.b,db:r.a,renderer:x,styles:r.c,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,r.a.clear()}}}}]);
//# sourceMappingURL=19.4e34f615.chunk.js.map